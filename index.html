<!DOCTYPE html>
<html>
<head>
  <title>Test form submit</title>
  <script src="jquery-1.11.3.min.js"></script>
<script type="text/javascript">
  
$( document ).ready(function() {
  var form = $("#theform");
  
  form.submit(function(event) {
    event.preventDefault();
    var formdata = { name: $("#name").val() };
    console.log("submitting:");
    console.log(formdata);
    
    $.ajax({
      url: form.attr("action"),
      type: "POST",
      data: JSON.stringify(formdata),
      dataType: "json",
      contentType: "application/json; charset=utf-8",
      success: function(result) {
        console.log("response:")
        console.log(result);
        $("#result").html(result.message);
      }
    });
  });
});
</script>
<style>
body {
  font-family: Helvetica, sans-serif;
}
</style>
</head>
<body>
<h1>Compojure API test</h1>
<form id="theform" method="POST" action="//compojure-api-test.herokuapp.com/api/v1/fi/test">
  <p>Name: <input type="name" id="name" name="name">
  <p><input id="submit" type="submit">
</form>
<p>Result: <span id="result"></span></p>

<p>See the source code at <a href="https://github.com/ykarikos/compojure-api-test">https://github.com/ykarikos/compojure-api-test</a></p>
</body>
</html>
